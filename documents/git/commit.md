# Commit

항상 깃을 사용하다보면 `커밋 했다!, 커밋 했니? 언제 커밋했니?` 등등 커밋이라는 말을 자연스럽게 사용한다. 그런데 커밋이 무엇인지 물어보면 명확히 대답할 수 없는 경우가 많다. 도대체 커밋이 무엇인지 생각해보자.

그 전에 우리는 깃의 상태에 대해서 알 필요가 있다. 깃의 상태?? 우리는 깃 초기화를 통해서 해당 디렉토리가 깃에 의해서 관리되는 디렉토리로 만들 수 있다.

```
 git init
```

> 깃 초기화 명령어

위의 명령어를 사용하지 않았다면, 아마 깃허브에서 클론을 받아서 프로젝트를 시작하는 경우는 이러한 과정없이 해당 디렉토리가 깃의 관리를 받게 될 것이다. 해당 디렉토리가 깃에 의해서 관리되는지 여부를 알고 싶다면 디렉토리에 .git(숨긴 디렉토리)이라는 디렉토리가 있는지 확인해보자. 이렇게 초기화된 디렉토리는 깃의 관리하에 놓여지게 된다. 즉 이 디렉토리 안에서의 모든 변화가 깃에 의해서 관리, 감독, 감시😱 를 받게 되는 것이다. 이러한 상태를 나타내는 몇가지 용어들이 있다.

![git-file-status](/screenshots/git-file-status.png)

> 빨간 표시가 된 부분은 vscode 좌측에서 각각의 파일의 변화에 따라서 살펴볼 수 있는 표시이다.

- Tracked

  깃에 관리를 받고 있는 파일의 상태를 말한다. 한 번 이상 커밋이 진행된 파일을 말한다. 쉽게 말해서 깃이 알고 있는 파일을 말한다. 아래 `Unmodified`, `Modified`, `Staged` 의 상태의 파일은 모두 `Tracked` 상태의 파일이라고 할 수 있다.

- Unmodified

  아무것도 수정하지 않은 상태의 파일을 말한다. 처음에 클론을 하고 나면 이러한 상태이다. 또는, 모든 수정된 파일을 커밋했다고 가정한다면, 그 커밋 이후의 상태가 될 것이다.

- Modified

  커밋 이후에 수정한 파일의 상태를 말한다.

- Staged(Added)

  수정한 파일을 `스테이징 상태`로 올라간 파일을 말한다. 여기서 말하는 스테이징 상태는 커밋을 할 수 있는 상태를 말한다.

  ```shell
  # 해당 파일 혹은 디렉토리를 스테이징
  git add [파일 이름 / 디렉토리명]

  # 명령어를 실행한 현재 위치에서의 모든 파일을 스테이징
  git add .

  # 모든 변경사항을 스테이징
  git add -A
  ```

  > 해당 명령어를 통해서 파일(들)을 스테이징 상태로 올릴 수 있다.

- Untracked

  깃에서 추적하지 않는 파일에 해당한다. 한 번도 커밋하지 않은 파일이 이에 해당한다. 위에서 말한 모든 상태를 제외한 파일이 이에 해당한다.

<br />

![file-life-cycle](/screenshots/file-life-cycle.png)

> 파일이 생성되고 수정되고 커밋되는 과정에서 깃에 따른 파일 상태가 어떻게 변화하는지를 보여주는 다이어그램 ([Ref](https://git-scm.com/book/ko/v2/Git%EC%9D%98-%EA%B8%B0%EC%B4%88-%EC%88%98%EC%A0%95%ED%95%98%EA%B3%A0-%EC%A0%80%EC%9E%A5%EC%86%8C%EC%97%90-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0))

```
git status
```

> 파일의 상태를 확인할 수 있는 명령어

<br />

다시 본론으로 돌아가면, 커밋이 무엇인지에 대해서 알아보자. 위에서 언급한 것처럼 커밋은 스테이징 상태가 되어야만 커밋을 할 수 있다. 그럼 커밋은 무엇일까? **커밋**은 소스코드의 최신 변화를 스냅샷 찍어서 저장소에 저장한 것 혹은 저장하는 행위를 말한다. 즉, 파일들의 유의미한 변화를 모아서 저장하는 것라고 볼 수 있다. 간단히 말하면, `유의미한 하나의 버전`이라고 생각하면 틀리지 않는다.

이렇게 각각의 유의미한 버전들을 모아서 관리하는 것이 바로 GIT이다.

<br />
<br />

# Commit Rule & Commit Message

### 생각할 문제들

> 좋은 커밋메세지란 무엇일까
>
> > [좋은 git 커밋 메시지를 작성하기 위한 8가지 약속](https://djkeh.github.io/articles/How-to-write-a-git-commit-message-kor/) <br />[효율적인 commit message 작성을 위한 conventional commits](https://medium.com/humanscape-tech/%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-commit-message-%EC%9E%91%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-conventional-commits-ae885898e754)

> 왜 우리는 좋은 커밋메세지를 써야할까? 에 대해서 생각해보자.

> 이외에도 `커밋메세지(commit message)` 라는 키워드로 여러가지를 검색해서 읽어보자.
